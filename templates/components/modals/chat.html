<div id="chat-overlay" class="modal-overlay" onclick="if(event.target.id==='chat-overlay') closeChat()">
    <div id="chat-modal-window" class="chat-window">
        <div class="chat-header"><span id="chat-header-title">Celi Neural Link</span><div onclick="closeChat()" class="cursor-pointer">✕</div></div>
        <div id="chat-history" class="chat-history">
            <div id="typing-indicator" class="typing-dots hidden"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>
        </div>
        <div class="input-area">
            <input type="file" id="img-upload" accept="image/*" hidden onchange="handleFileSelect()">
            <input type="file" id="audio-upload" accept="audio/*" hidden onchange="handleAudioSelect()">
            <button class="media-btn" onclick="document.getElementById('img-upload').click()"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg></button>
            <button class="media-btn" id="mic-btn" onclick="toggleMic()"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" y1="19" x2="12" y2="23"/><line x1="8" y1="23" x2="16" y2="23"/></svg></button>
            <input type="text" id="chat-input" class="chat-input" placeholder="Signal..." onkeypress="if(event.key==='Enter') sendMessage()">
            <button onclick="sendMessage()" class="ml-2 text-white">➤</button>
        </div>
    </div>
</div>
