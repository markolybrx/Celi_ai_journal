<div id="profile-modal" class="fixed inset-0 bg-black/90 z-50 hidden items-center justify-center p-5 backdrop-blur-sm">
    <div class="relative w-full max-w-sm flex flex-col items-center">
        <div class="bg-theme-card border-theme p-0 rounded-3xl w-full max-h-[85vh] flex flex-col overflow-visible">
            <div class="p-6 border-b border-theme-color" style="border-bottom: 1px solid var(--border);">
                <h2 class="text-xl font-bold tracking-wide">Profile</h2>
            </div>
            <div class="flex-1 overflow-y-auto p-6 flex flex-col items-center gap-6">
                <div class="flex flex-col items-center relative">
                    <img id="profile-pfp-large" class="w-24 h-24 rounded-full border-2 border-theme object-cover" src="">
                    <input type="file" id="pfp-upload-input" accept="image/*" hidden onchange="handlePfpUpload()">
                    <button onclick="document.getElementById('pfp-upload-input').click()" class="mt-3 text-xs text-[var(--mood)] border border-[var(--mood)] px-3 py-1 rounded-full uppercase tracking-widest hover:bg-[var(--mood)] hover:text-black transition-colors">Update Photo</button>
                </div>
                <div class="w-full space-y-4">
                    <div class="bg-theme-input p-4 rounded-xl border-theme"><label class="block text-[9px] uppercase tracking-widest text-theme-muted mb-1">Full Name</label><div id="profile-fullname" class="text-sm font-semibold">Loading...</div></div>
                    <div class="bg-theme-input p-4 rounded-xl border-theme"><label class="block text-[9px] uppercase tracking-widest text-theme-muted mb-1">User ID</label><div id="profile-id" class="text-xs font-mono opacity-70 break-all">...</div></div>
                    <div class="flex gap-4">
                        <div class="bg-theme-input p-4 rounded-xl border-theme flex-1"><label class="block text-[9px] uppercase tracking-widest text-theme-muted mb-1">Aura Color</label><div class="flex items-center gap-2"><div id="profile-color-dot" class="w-3 h-3 rounded-full bg-white shrink-0"></div><span id="profile-color-text" class="text-xs opacity-70 truncate">...</span></div></div>
                        <div class="bg-theme-input p-4 rounded-xl border-theme flex-1"><label class="block text-[9px] uppercase tracking-widest text-theme-muted mb-1">Secret Question</label><div id="profile-secret-q" class="text-xs opacity-70 break-words leading-tight">...</div></div>
                    </div>
                    <div class="w-full text-center -mt-1"><button onclick="openModal('edit-info-modal')" class="text-[10px] uppercase tracking-widest text-blue-400 underline hover:text-blue-300">Edit User Information</button></div>
                </div>
                <div class="w-full mt-2">
                    <div class="w-full h-px bg-theme-border mb-4 mt-2"></div>
                    <div class="flex justify-between items-center bg-theme-input p-3 rounded-xl border-theme"><span class="text-xs font-bold uppercase tracking-widest opacity-70">App Theme</span><button onclick="toggleTheme()" id="theme-btn" class="text-[10px] bg-white/10 px-3 py-1 rounded-full uppercase tracking-widest border-theme">Dark</button></div>
                </div>
                <div class="w-full space-y-3 pt-2">
                    <button onclick="openModal('logout-confirm-modal')" class="w-full py-3 bg-white/5 hover:bg-white/10 border-theme rounded-xl text-xs font-bold uppercase tracking-widest transition-colors">Log Out</button>
                    <div class="flex gap-3"><button onclick="openModal('change-pass-modal')" class="flex-1 py-3 bg-white/5 hover:bg-white/10 border-theme rounded-xl text-[10px] font-bold uppercase tracking-widest">Change Pass</button><button onclick="openModal('change-secret-modal')" class="flex-1 py-3 bg-white/5 hover:bg-white/10 border-theme rounded-xl text-[10px] font-bold uppercase tracking-widest">Change SQA</button></div>
                    <button onclick="openModal('delete-confirm-modal')" class="w-full py-3 bg-red-500/10 hover:bg-red-500/20 border border-red-500/30 text-red-400 rounded-xl text-xs font-bold uppercase tracking-widest transition-colors">Delete Data</button>
                </div>
                <div class="w-full pt-4 border-t-theme text-center"><button onclick="openModal('policy-modal')" class="text-[10px] uppercase tracking-widest text-blue-400 hover:text-blue-300 underline">View User Data & Privacy Policy</button></div>
            </div>
        </div>
        <div class="floating-close-btn" onclick="closeModal('profile-modal')">âœ•</div>
    </div>
</div>
