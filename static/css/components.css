/* --- COMPONENT STYLES (RESTORED) --- */

/* 1. HEADER & PFP */
.header-pfp { 
    width: 36px; height: 36px; border-radius: 50%; 
    background-color: #333; overflow: hidden; 
    border: 1px solid var(--border); cursor: pointer;
}
.header-pfp img { width: 100%; height: 100%; object-fit: cover; }

/* 2. OVERLAYS & MODALS (Unified) */
/* This handles Archive, Rank Tree, and Profile modals */
#archive-modal, #rank-tree-modal, #profile-modal {
    display: none; /* Hidden by default */
    position: fixed; inset: 0; z-index: 9999;
    background: rgba(0,0,0,0.85); backdrop-filter: blur(5px);
    justify-content: center; align-items: center;
    opacity: 0; transition: opacity 0.3s;
}
#archive-modal.active, #rank-tree-modal.active, #profile-modal.active {
    display: flex; opacity: 1;
}

/* 3. CALENDAR */
.calendar-card { min-height: 380px; display: flex; flex-direction: column; }
.cal-header { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; margin-bottom: 20px; width: 100%; padding: 5px; }
.cal-title { text-align: center; font-weight: 800; font-size: 16px; text-transform: uppercase; color: var(--text); }
.cal-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 6px; text-align: center; flex: 1; }
.cal-day { position: relative; height: 42px; display: flex; align-items: center; justify-content: center; border-radius: 10px; font-size: 14px; font-weight: 500; color: var(--text-muted); }
.cal-day.today { background: var(--border); color: var(--text); font-weight: 900; }
.cal-day.has-entry, .cal-day.has-void { color: var(--text); font-weight: 700; cursor: pointer; }
.cal-day.has-entry::after { content: ''; position: absolute; bottom: 6px; width: 4px; height: 4px; border-radius: 50%; background: var(--mood); box-shadow: 0 0 6px var(--mood); }
.cal-day.has-void::after { content: ''; position: absolute; bottom: 6px; width: 4px; height: 4px; border-radius: 50%; background: #a855f7; box-shadow: 0 0 6px #a855f7; }

/* 4. ECHO CARD */
.echo-card { background: var(--glass); border: 1px solid var(--border); border-radius: 20px; padding: 15px 20px; margin-bottom: 80px; position: relative; cursor: pointer; }
.echo-text { font-size: 13px; color: var(--text); opacity: 0.8; font-style: italic; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

/* 5. FABS */
.void-fab { width: 60px; height: 60px; border-radius: 50%; background: #000; display: flex; align-items: center; justify-content: center; animation: voidGlow 3s infinite alternate; }
.chat-fab { width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, #f9a8d4, #c084fc); display: flex; align-items: center; justify-content: center; animation: pastelPulse 3s infinite; }
